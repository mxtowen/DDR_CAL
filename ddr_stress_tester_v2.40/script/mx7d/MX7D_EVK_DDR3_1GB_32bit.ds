
stop

set semihosting enabled true

//memory 0x30000000 0x33FFFFFF noverify

memory set 0x30389800 32 0x10000000
memory set 0x30389880 32 0x10000001
memory set 0x30388000 32 0x11000000
memory set 0x30388080 32 0x11000000
memory set 0x30388100 32 0x11000000
memory set 0x30388800 32 0x11000000
memory set 0x30388880 32 0x11000000
memory set 0x30388900 32 0x11000000
memory set 0x30388980 32 0x11000000
memory set 0x30389000 32 0x11000001
memory set 0x3038a000 32 0x11000000
memory set 0x3038a080 32 0x11000000
memory set 0x3038a100 32 0x11000000
memory set 0x3038a180 32 0x11000000
memory set 0x3038a200 32 0x11000000
memory set 0x3038a280 32 0x11000000
memory set 0x3038a300 32 0x11000003
memory set 0x3038a380 32 0x11000001
memory set 0x3038a400 32 0x11000001
memory set 0x3038a480 32 0x10000000
memory set 0x3038a500 32 0x11000001
memory set 0x3038a580 32 0x11000001
memory set 0x3038a600 32 0x11000001
memory set 0x3038a680 32 0x11000001
memory set 0x3038a700 32 0x11000000
memory set 0x3038a780 32 0x11000000
memory set 0x3038a800 32 0x11000000
memory set 0x3038a880 32 0x11000000
memory set 0x3038a900 32 0x11000000
memory set 0x3038a980 32 0x11000000
memory set 0x3038aa00 32 0x11000000
memory set 0x3038aa80 32 0x11000000
memory set 0x3038ab00 32 0x11000001
memory set 0x3038ab80 32 0x11000001
memory set 0x3038ac00 32 0x11000001
memory set 0x3038ac80 32 0x11000001
memory set 0x3038ad00 32 0x11000001
memory set 0x3038ad80 32 0x11000001
memory set 0x3038ae00 32 0x11000001
memory set 0x3038ae80 32 0x11000001
memory set 0x3038af00 32 0x11000001
memory set 0x3038af80 32 0x11000002
memory set 0x3038b000 32 0x11000002
memory set 0x3038b080 32 0x11000002
memory set 0x3038b100 32 0x11000002
memory set 0x3038b180 32 0x11000002
memory set 0x3038b200 32 0x11000002
memory set 0x3038b280 32 0x11000002
memory set 0x3038b300 32 0x11000002
memory set 0x3038b380 32 0x11000002
memory set 0x3038b400 32 0x11000002
memory set 0x3038b480 32 0x11000002
memory set 0x3038b500 32 0x11000001
memory set 0x3038b580 32 0x11000001
memory set 0x3038b600 32 0x11000001
memory set 0x3038b680 32 0x11000001
memory set 0x3038b700 32 0x11000001
memory set 0x3038b780 32 0x11000001
memory set 0x3038b800 32 0x11000001
memory set 0x3038b880 32 0x11000001
memory set 0x3038b900 32 0x11000000
memory set 0x3038b980 32 0x11000000
memory set 0x3038ba00 32 0x11000000
memory set 0x3038ba80 32 0x11000000
memory set 0x3038bb00 32 0x11000000
memory set 0x3038bb80 32 0x11000001
memory set 0x3038bc00 32 0x11000000
memory set 0x3038bc80 32 0x11000000
memory set 0x3038bd00 32 0x11000000
memory set 0x3038bd80 32 0x11000000
memory set 0x3038be00 32 0x11000000
#PLL clock change
memory set 0x30360070 32 0x0060302c

memory set 0x30384000 32 0x00000002
memory set 0x30384010 32 0x00000002
memory set 0x30384020 32 0x00000002
memory set 0x30384030 32 0x00000002
memory set 0x30384040 32 0x00000002
memory set 0x30384050 32 0x00000002
memory set 0x30384060 32 0x00000002
memory set 0x30384070 32 0x00000002
memory set 0x30384080 32 0x00000002
memory set 0x30384090 32 0x00000002
memory set 0x303840A0 32 0x00000002
memory set 0x303840B0 32 0x00000002
memory set 0x303840C0 32 0x00000002
memory set 0x303840D0 32 0x00000002
memory set 0x303840E0 32 0x00000002
memory set 0x303840F0 32 0x00000002
memory set 0x30384100 32 0x00000002
memory set 0x30384110 32 0x00000002
memory set 0x30384120 32 0x00000002
memory set 0x30384130 32 0x00000002
memory set 0x30384140 32 0x00000002
memory set 0x30384150 32 0x00000002
memory set 0x30384160 32 0x00000002
memory set 0x30384170 32 0x00000002
memory set 0x30384180 32 0x00000002
memory set 0x30384190 32 0x00000002
memory set 0x303841A0 32 0x00000002
memory set 0x303841B0 32 0x00000002
memory set 0x303841C0 32 0x00000002
memory set 0x303841D0 32 0x00000002
memory set 0x303841E0 32 0x00000002
memory set 0x303841F0 32 0x00000002
memory set 0x30384200 32 0x00000002
memory set 0x30384210 32 0x00000002
memory set 0x30384220 32 0x00000002
memory set 0x30384230 32 0x00000002
memory set 0x30384240 32 0x00000002
memory set 0x30384250 32 0x00000002
memory set 0x30384260 32 0x00000002
memory set 0x30384270 32 0x00000002
memory set 0x30384280 32 0x00000002
memory set 0x30384290 32 0x00000002
memory set 0x303842A0 32 0x00000002
memory set 0x303842B0 32 0x00000002
memory set 0x303842C0 32 0x00000002
memory set 0x303842D0 32 0x00000002
memory set 0x303842E0 32 0x00000002
memory set 0x303842F0 32 0x00000002
memory set 0x30384300 32 0x00000002
memory set 0x30384310 32 0x00000002
memory set 0x30384320 32 0x00000002
memory set 0x30384330 32 0x00000002
memory set 0x30384340 32 0x00000002
memory set 0x30384350 32 0x00000002
memory set 0x30384360 32 0x00000002
memory set 0x30384370 32 0x00000002
memory set 0x30384380 32 0x00000002
memory set 0x30384390 32 0x00000002
memory set 0x303843A0 32 0x00000002
memory set 0x303843B0 32 0x00000002
memory set 0x303843C0 32 0x00000002
memory set 0x303843D0 32 0x00000002
memory set 0x303843E0 32 0x00000002
memory set 0x303843F0 32 0x00000002
memory set 0x30384400 32 0x00000002
memory set 0x30384410 32 0x00000002
memory set 0x30384420 32 0x00000002
memory set 0x30384430 32 0x00000002
memory set 0x30384440 32 0x00000002
memory set 0x30384450 32 0x00000002
memory set 0x30384460 32 0x00000002
memory set 0x30384470 32 0x00000002
memory set 0x30384480 32 0x00000002
memory set 0x30384490 32 0x00000002
memory set 0x303844A0 32 0x00000002
memory set 0x303844B0 32 0x00000002
memory set 0x303844C0 32 0x00000002
memory set 0x303844D0 32 0x00000002
memory set 0x303844E0 32 0x00000002
memory set 0x303844F0 32 0x00000002
memory set 0x30384500 32 0x00000002
memory set 0x30384510 32 0x00000002
memory set 0x30384520 32 0x00000002
memory set 0x30384530 32 0x00000002
memory set 0x30384540 32 0x00000002
memory set 0x30384550 32 0x00000002
memory set 0x30384560 32 0x00000002
memory set 0x30384570 32 0x00000002
memory set 0x30384580 32 0x00000002
memory set 0x30384590 32 0x00000002
memory set 0x303845A0 32 0x00000002
memory set 0x303845B0 32 0x00000002
memory set 0x303845C0 32 0x00000002
memory set 0x303845D0 32 0x00000002
memory set 0x303845E0 32 0x00000002
memory set 0x303845F0 32 0x00000002
memory set 0x30384600 32 0x00000002
memory set 0x30384610 32 0x00000002
memory set 0x30384620 32 0x00000002
memory set 0x30384630 32 0x00000002
memory set 0x30384640 32 0x00000002
memory set 0x30384650 32 0x00000002
memory set 0x30384660 32 0x00000002
memory set 0x30384670 32 0x00000002
memory set 0x30384680 32 0x00000002
memory set 0x30384690 32 0x00000002
memory set 0x303846A0 32 0x00000002
memory set 0x303846B0 32 0x00000002
memory set 0x303846C0 32 0x00000002
memory set 0x303846D0 32 0x00000002
memory set 0x303846E0 32 0x00000002
memory set 0x303846F0 32 0x00000002
memory set 0x30384700 32 0x00000002
memory set 0x30384710 32 0x00000002
memory set 0x30384720 32 0x00000002
memory set 0x30384730 32 0x00000002
memory set 0x30384740 32 0x00000002
memory set 0x30384750 32 0x00000002
memory set 0x30384760 32 0x00000002
memory set 0x30384770 32 0x00000002
memory set 0x30384780 32 0x00000002
memory set 0x30384790 32 0x00000002
memory set 0x303847A0 32 0x00000002
memory set 0x303847B0 32 0x00000002
memory set 0x303847C0 32 0x00000002
memory set 0x303847D0 32 0x00000002
memory set 0x303847E0 32 0x00000002
memory set 0x303847F0 32 0x00000002
memory set 0x30384800 32 0x00000002
memory set 0x30384810 32 0x00000002
memory set 0x30384820 32 0x00000002
memory set 0x30384830 32 0x00000002
memory set 0x30384840 32 0x00000002
memory set 0x30384850 32 0x00000002
memory set 0x30384860 32 0x00000002
memory set 0x30384870 32 0x00000002
memory set 0x30384880 32 0x00000002
memory set 0x30384890 32 0x00000002
memory set 0x303848A0 32 0x00000002
memory set 0x303848B0 32 0x00000002
memory set 0x303848C0 32 0x00000002
memory set 0x303848D0 32 0x00000002
memory set 0x303848E0 32 0x00000002
memory set 0x303848F0 32 0x00000002
memory set 0x30384900 32 0x00000002
memory set 0x30384910 32 0x00000002
memory set 0x30384920 32 0x00000002
memory set 0x30384930 32 0x00000002
memory set 0x30384940 32 0x00000002
memory set 0x30384950 32 0x00000002
memory set 0x30384960 32 0x00000002
memory set 0x30384970 32 0x00000002
memory set 0x30384980 32 0x00000002
memory set 0x30384990 32 0x00000002
memory set 0x303849A0 32 0x00000002
memory set 0x303849B0 32 0x00000002
memory set 0x303849C0 32 0x00000002
memory set 0x303849D0 32 0x00000002
memory set 0x303849E0 32 0x00000002
memory set 0x303849F0 32 0x00000002
memory set 0x30384A00 32 0x00000002
memory set 0x30384A10 32 0x00000002
memory set 0x30384A20 32 0x00000002
memory set 0x30384A30 32 0x00000002
memory set 0x30384A40 32 0x00000002
memory set 0x30384A50 32 0x00000002
memory set 0x30384A60 32 0x00000002
memory set 0x30384A70 32 0x00000002
memory set 0x30384A80 32 0x00000002
memory set 0x30384A90 32 0x00000002
memory set 0x30384AA0 32 0x00000002
memory set 0x30384AB0 32 0x00000002
memory set 0x30384AC0 32 0x00000002
memory set 0x30384AD0 32 0x00000002
memory set 0x30384AE0 32 0x00000002
memory set 0x30384AF0 32 0x00000002
memory set 0x30384B00 32 0x00000002
memory set 0x30384B10 32 0x00000002
memory set 0x30384B20 32 0x00000002
memory set 0x30384B30 32 0x00000002
memory set 0x30384B40 32 0x00000002
memory set 0x30384B50 32 0x00000002
memory set 0x30384B60 32 0x00000002
memory set 0x30384B70 32 0x00000002
memory set 0x30384B80 32 0x00000002
memory set 0x30384B90 32 0x00000002
memory set 0x30384BA0 32 0x00000002
memory set 0x30384BB0 32 0x00000002
memory set 0x30384BC0 32 0x00000002
memory set 0x30384BD0 32 0x00000002
memory set 0x30384BE0 32 0x00000002
memory set 0x30384BF0 32 0x00000002

memory set 0x30380800 32 0x00000002
memory set 0x30380810 32 0x00000002
memory set 0x30380820 32 0x00000002
memory set 0x30380830 32 0x00000002
memory set 0x30380840 32 0x00000002
memory set 0x30380850 32 0x00000002
memory set 0x30380860 32 0x00000002
memory set 0x30380870 32 0x00000002
memory set 0x30380880 32 0x00000002
memory set 0x30380890 32 0x00000002
memory set 0x303808A0 32 0x00000002
memory set 0x303808B0 32 0x00000002
memory set 0x303808C0 32 0x00000002
memory set 0x303808D0 32 0x00000002
memory set 0x303808E0 32 0x00000002
memory set 0x303808F0 32 0x00000002
memory set 0x30380900 32 0x00000002
memory set 0x30380910 32 0x00000002
memory set 0x30380920 32 0x00000002
memory set 0x30380930 32 0x00000002
memory set 0x30380940 32 0x00000002
memory set 0x30380950 32 0x00000002
memory set 0x30380960 32 0x00000002
memory set 0x30380970 32 0x00000002
memory set 0x30380980 32 0x00000002
memory set 0x30380990 32 0x00000002
memory set 0x303809A0 32 0x00000002
memory set 0x303809B0 32 0x00000002
memory set 0x303809C0 32 0x00000002
memory set 0x303809D0 32 0x00000002
memory set 0x303809E0 32 0x00000002
memory set 0x303809F0 32 0x00000002
memory set 0x30380A00 32 0x00000002

#enable ocram epdc
memory set 0x30340004 32 0x4F400005

#BOOT_DEVICE_DDR3
memory set 0x30391000 32 0x00000002  #deassert presetn
memory set 0x307a0000 32 0x01040001  #MSTR  active ranks is 1 ;burst length is 8 ;ddr3 is enabled
memory set 0x307a01a0 32 0x80400003  #DFIUPD0
memory set 0x307a01a4 32 0x00100020  #DFIUPD1
memory set 0x307a01a8 32 0x80100004  #DFIUPD2
memory set 0x307a0064 32 0x0040005e  #RFSHTMG tREFI is 7.8us trfcab is 350ns 
memory set 0x307a0490 32 0x00000001  #PCTRL_0 enable port 0
memory set 0x307a00d0 32 0x00020001  #INIT0 pre_cke 100ns
memory set 0x307a00d4 32 0x00010000  #INIT1 dram_rstn_x1024
memory set 0x307a00dc 32 0x09300004  #INIT3  WR=8 CAS=7
memory set 0x307a00e0 32 0x04080000  #INIT4  CWL= 6
memory set 0x307a00e4 32 0x00090004  #INIT5 
memory set 0x307a00f4 32 0x0000033f  #RANKCTL diff_rank_wr_gap diff_rank_rd_gap set to 3 first ?; max_rank_rd performance
memory set 0x307a0100 32 0x0908120a  #DRAMTMG0 
memory set 0x307a0104 32 0x0002020e  #DRAMTMG1
memory set 0x307a0108 32 0x03040407  #DRAMTMG2
memory set 0x307a010c 32 0x00002006  #DRAMTMG3
memory set 0x307a0110 32 0x04020204  #DRAMTMG4
memory set 0x307a0114 32 0x03030202  #DRAMTMG5
memory set 0x307a0120 32 0x03030803  #DRAMTMG8
memory set 0x307a0180 32 0x00800020  #ZQCTL0 zq_long_nop zq_short_nop
memory set 0x307a0190 32 0x02098204  #DFITMG0
memory set 0x307a0194 32 0x00030303  #DFITMG1
memory set 0x307a0200 32 0x00000016  #ADDRMAP0
memory set 0x307a0204 32 0x00171717  #ADDRMAP1
memory set 0x307a0214 32 0x04040404  #ADDRMAP5
memory set 0x307a0218 32 0x00040404  #ADDRMAP6
memory set 0x307a0240 32 0x06000601  #ODTCFG
memory set 0x307a0244 32 0x00001323  #ODTMAP
memory set 0x30391000 32 0x00000000  #dessert corereset
memory set 0x30790000 32 0x17420f40  #PHY_CON0
memory set 0x30790004 32 0x10210100  #PHY_CON1
memory set 0x30790010 32 0x00060807  #PHY_CON4  
memory set 0x307900b0 32 0x1010007e  #PHY_CON4  
memory set 0x3079009c 32 0x00000d6e  #DRVDS_CON0 40ohm except ca 34ohm clk34ohm
memory set 0x30790020 32 0x08080808  #active rising-edge signal
memory set 0x30790030 32 0x08080808  #active rising-edge signal
memory set 0x30790050 32 0x01000010  #active rising-edge signal
memory set 0x30790050 32 0x00000010  #active rising-edge signal

memory set 0x307900c0 32 0x0e407304  #ZQ_CON0
memory set 0x307900c0 32 0x0e447304  #ZQ_CON0
memory set 0x307900c0 32 0x0e447306  #ZQ_CON0
##wait ZQ_CON1 #73 in ds-5 the command time gap is big if your clock is not slow as ds- 5 please add delay here for about 7us
#pause 3s
memory set 0x307900c0 32 0x0e447304  #ZQ_CON0
memory set 0x307900c0 32 0x0e407304  #ZQ_CON0

memory set 0x30384130 32 0x00000000  #disable clock
memory set 0x30340020 32 0x00000178  #assert initial start
memory set 0x30384130 32 0x00000002  #enable clock

memory set 0x30790018 32 0x0000000f  #LP_CON0
#wait DDRC_STAT #1 in ds-5 the command time gap is big if your clock is not slow as ds- 5 please add delay here for about 250us
#pause 5s
#wait DDRC_STAT #1 in ds-5 the command time gap is big if your clock is not slow as ds- 5 please add delay here for about 250us
#END_OF_DDR_INIT

